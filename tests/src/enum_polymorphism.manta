// examples/nil_refs.manta
mod main

use (
    "math"
    "fmt"
)

// TODO: replace with math::PI once modules are supported
const MATH_PI = 3.14

// TODO: replace with fmt::println once modules are supported
fn fmt_println(i i32) {}

// Shape is an enum for different types of geometric shapes
type Shape enum {
    Circle(i32)
    Square(i32)
}

// area calculates the area of a given shape
fn area(s Shape) i32 {
    // match requires that you to handle all the shape variants
    match s {
        .Circle(r) { return MATH_PI * r * r }
        .Square(s) { return s * s }
    }
}

fn main() {
    let square = Shape.Square(10)
    let square_area = area(square)
    fmt_println(square_area)

    let Shape(circle) = .Circle(3)
    let circle_area = area(circle)
    fmt_println(circle_area)
}
